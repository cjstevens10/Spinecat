{"ast":null,"code":"import _objectSpread from\"/Users/cooperstevens/Documents/CursorWorkspace copy/Spinecat/web_interface/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{motion}from'framer-motion';import{Search,BookOpen,Loader2,X,Bookmark}from'lucide-react';import{apiService}from'../services/api';// Extended interface for search results that includes backend-added properties\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ManualBookSearch=_ref=>{let{isOpen,onClose,onBookSelected}=_ref;const[searchQuery,setSearchQuery]=useState('');const[searchResults,setSearchResults]=useState([]);const[isSearching,setIsSearching]=useState(false);const[searchType,setSearchType]=useState('basic');const[filters,setFilters]=useState({title:'',author:'',publisher:''});const[showFilters,setShowFilters]=useState(false);const handleBasicSearch=async()=>{if(!searchQuery.trim())return;setIsSearching(true);try{const results=await apiService.searchBooks(searchQuery,20);setSearchResults(results);}catch(error){console.error('Search failed:',error);setSearchResults([]);}finally{setIsSearching(false);}};const handleAdvancedSearch=async()=>{if(!filters.title&&!filters.author&&!filters.publisher)return;setIsSearching(true);try{// Build query string for advanced search\nconst queryParams=new URLSearchParams();if(filters.title)queryParams.append('title',filters.title);if(filters.author)queryParams.append('author',filters.author);if(filters.publisher)queryParams.append('publisher',filters.publisher);queryParams.append('limit','20');const response=await fetch(\"\".concat(apiService.getBaseUrl(),\"/api/search-books-advanced?\").concat(queryParams.toString()));if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const data=await response.json();if(data.success&&Array.isArray(data.results)){setSearchResults(data.results);}else{setSearchResults([]);}}catch(error){console.error('Advanced search failed:',error);setSearchResults([]);}finally{setIsSearching(false);}};const handleSearch=()=>{if(searchType==='basic'){handleBasicSearch();}else{handleAdvancedSearch();}};const handleBookSelect=book=>{if(onBookSelected){onBookSelected(book);}onClose();};const clearSearch=()=>{setSearchQuery('');setFilters({title:'',author:'',publisher:''});setSearchResults([]);};if(!isOpen)return null;return/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",onClick:onClose,children:/*#__PURE__*/_jsxs(motion.div,{initial:{scale:0.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0.9,opacity:0},className:\"bg-slate-800 rounded-2xl shadow-xl border border-slate-600 max-w-4xl w-full max-h-[90vh] flex flex-col\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-6 border-b border-slate-600\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(BookOpen,{className:\"w-6 h-6 text-blue-400\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-white\",children:\"Manual Book Search\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400 text-sm\",children:\"Search Open Library database for books\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"p-2 hover:bg-slate-700 rounded-lg transition-colors duration-200\",children:/*#__PURE__*/_jsx(X,{className:\"w-6 h-6 text-slate-400\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-6 pt-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2 mb-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSearchType('basic'),className:\"px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 \".concat(searchType==='basic'?'bg-blue-600 text-white':'bg-slate-700 text-slate-300 hover:bg-slate-600'),children:\"Basic Search\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSearchType('advanced'),className:\"px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 \".concat(searchType==='advanced'?'bg-blue-600 text-white':'bg-slate-700 text-slate-300 hover:bg-slate-600'),children:\"Advanced Search\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-6 pb-4\",children:searchType==='basic'?/*#__PURE__*//* Basic Search */_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search for books by title, author, or keywords...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value),onKeyPress:e=>e.key==='Enter'&&handleSearch(),className:\"flex-1 input-field\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSearch,disabled:isSearching||!searchQuery.trim(),className:\"btn-primary px-6 disabled:opacity-50 disabled:cursor-not-allowed\",children:isSearching?/*#__PURE__*/_jsx(Loader2,{className:\"w-4 h-4 animate-spin\"}):/*#__PURE__*/_jsx(Search,{className:\"w-4 h-4\"})})]}):/*#__PURE__*//* Advanced Search */_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Title...\",value:filters.title,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{title:e.target.value})),className:\"input-field\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Author...\",value:filters.author,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{author:e.target.value})),className:\"input-field\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Publisher...\",value:filters.publisher,onChange:e=>setFilters(_objectSpread(_objectSpread({},filters),{},{publisher:e.target.value})),className:\"input-field\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:handleSearch,disabled:isSearching||!filters.title&&!filters.author&&!filters.publisher,className:\"btn-primary px-6 disabled:opacity-50 disabled:cursor-not-allowed\",children:[isSearching?/*#__PURE__*/_jsx(Loader2,{className:\"w-4 h-4 animate-spin\"}):/*#__PURE__*/_jsx(Search,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:\"Search\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:clearSearch,className:\"btn-secondary px-4\",children:\"Clear\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto custom-scrollbar px-6 pb-6\",children:isSearching?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center py-12\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"w-8 h-8 animate-spin text-blue-400\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-3 text-slate-400\",children:\"Searching...\"})]}):searchResults.length>0?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-white\",children:[\"Search Results (\",searchResults.length,\")\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:clearSearch,className:\"text-sm text-slate-400 hover:text-white transition-colors\",children:\"Clear Results\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:searchResults.map((book,index)=>/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:index*0.05},className:\"bg-slate-700/50 rounded-lg p-4 border border-slate-600 hover:border-slate-500 transition-colors duration-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-white text-sm mb-1 truncate\",children:book.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-slate-300\",children:[\"by \",Array.isArray(book.author_name)?book.author_name.join(', '):book.author_name||'Unknown Author']})]}),/*#__PURE__*/_jsx(Bookmark,{className:\"w-4 h-4 text-slate-400\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-xs text-slate-400 mb-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[book.first_publish_year&&/*#__PURE__*/_jsx(\"span\",{children:book.first_publish_year}),book.publisher&&/*#__PURE__*/_jsx(\"span\",{className:\"truncate max-w-[150px]\",title:book.publisher,children:book.publisher})]}),book.editions_count&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs bg-slate-600 px-2 py-1 rounded\",children:[book.editions_count,\" edition\",book.editions_count!==1?'s':'']})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleBookSelect(book),className:\"w-full btn-primary text-sm py-2 flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(BookOpen,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Select This Book\"})]})]},book.key))})]}):searchQuery||Object.values(filters).some(v=>v)?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12 text-slate-400\",children:[/*#__PURE__*/_jsx(BookOpen,{className:\"w-16 h-16 mx-auto mb-4 text-slate-500\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg\",children:\"No books found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-500 mt-2\",children:\"Try adjusting your search terms\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12 text-slate-400\",children:[/*#__PURE__*/_jsx(Search,{className:\"w-16 h-16 mx-auto mb-4 text-slate-500\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg\",children:\"Ready to search\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-500 mt-2\",children:\"Enter search terms above to find books\"})]})})]})});};export default ManualBookSearch;","map":{"version":3,"names":["React","useState","motion","Search","BookOpen","Loader2","X","Bookmark","apiService","jsx","_jsx","jsxs","_jsxs","ManualBookSearch","_ref","isOpen","onClose","onBookSelected","searchQuery","setSearchQuery","searchResults","setSearchResults","isSearching","setIsSearching","searchType","setSearchType","filters","setFilters","title","author","publisher","showFilters","setShowFilters","handleBasicSearch","trim","results","searchBooks","error","console","handleAdvancedSearch","queryParams","URLSearchParams","append","response","fetch","concat","getBaseUrl","toString","ok","Error","status","data","json","success","Array","isArray","handleSearch","handleBookSelect","book","clearSearch","div","initial","opacity","animate","exit","className","onClick","children","scale","e","stopPropagation","type","placeholder","value","onChange","target","onKeyPress","key","disabled","_objectSpread","length","map","index","y","transition","delay","author_name","join","first_publish_year","editions_count","Object","values","some","v"],"sources":["/Users/cooperstevens/Documents/CursorWorkspace copy/Spinecat/web_interface/src/components/ManualBookSearch.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport { Search, BookOpen, Loader2, X, Filter, Bookmark } from 'lucide-react';\nimport { OpenLibraryBook } from '../types';\nimport { apiService } from '../services/api';\n\n// Extended interface for search results that includes backend-added properties\ninterface SearchResultBook extends OpenLibraryBook {\n  editions_count?: number;\n  search_score?: number;\n}\n\ninterface ManualBookSearchProps {\n  isOpen: boolean;\n  onClose: () => void;\n  onBookSelected?: (book: SearchResultBook) => void;\n}\n\ninterface SearchFilters {\n  title: string;\n  author: string;\n  publisher: string;\n}\n\nconst ManualBookSearch: React.FC<ManualBookSearchProps> = ({\n  isOpen,\n  onClose,\n  onBookSelected\n}) => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState<SearchResultBook[]>([]);\n  const [isSearching, setIsSearching] = useState(false);\n  const [searchType, setSearchType] = useState<'basic' | 'advanced'>('basic');\n  const [filters, setFilters] = useState<SearchFilters>({\n    title: '',\n    author: '',\n    publisher: ''\n  });\n  const [showFilters, setShowFilters] = useState(false);\n\n  const handleBasicSearch = async () => {\n    if (!searchQuery.trim()) return;\n    \n    setIsSearching(true);\n    try {\n      const results = await apiService.searchBooks(searchQuery, 20);\n      setSearchResults(results as SearchResultBook[]);\n    } catch (error) {\n      console.error('Search failed:', error);\n      setSearchResults([]);\n    } finally {\n      setIsSearching(false);\n    }\n  };\n\n  const handleAdvancedSearch = async () => {\n    if (!filters.title && !filters.author && !filters.publisher) return;\n    \n    setIsSearching(true);\n    try {\n      // Build query string for advanced search\n      const queryParams = new URLSearchParams();\n      if (filters.title) queryParams.append('title', filters.title);\n      if (filters.author) queryParams.append('author', filters.author);\n      if (filters.publisher) queryParams.append('publisher', filters.publisher);\n      queryParams.append('limit', '20');\n      \n      const response = await fetch(`${apiService.getBaseUrl()}/api/search-books-advanced?${queryParams.toString()}`);\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      \n      const data = await response.json();\n      if (data.success && Array.isArray(data.results)) {\n        setSearchResults(data.results as SearchResultBook[]);\n      } else {\n        setSearchResults([]);\n      }\n    } catch (error) {\n      console.error('Advanced search failed:', error);\n      setSearchResults([]);\n    } finally {\n      setIsSearching(false);\n    }\n  };\n\n  const handleSearch = () => {\n    if (searchType === 'basic') {\n      handleBasicSearch();\n    } else {\n      handleAdvancedSearch();\n    }\n  };\n\n  const handleBookSelect = (book: SearchResultBook) => {\n    if (onBookSelected) {\n      onBookSelected(book);\n    }\n    onClose();\n  };\n\n  const clearSearch = () => {\n    setSearchQuery('');\n    setFilters({ title: '', author: '', publisher: '' });\n    setSearchResults([]);\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      exit={{ opacity: 0 }}\n      className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\"\n      onClick={onClose}\n    >\n      <motion.div\n        initial={{ scale: 0.9, opacity: 0 }}\n        animate={{ scale: 1, opacity: 1 }}\n        exit={{ scale: 0.9, opacity: 0 }}\n        className=\"bg-slate-800 rounded-2xl shadow-xl border border-slate-600 max-w-4xl w-full max-h-[90vh] flex flex-col\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Header */}\n        <div className=\"flex items-center justify-between p-6 border-b border-slate-600\">\n          <div className=\"flex items-center space-x-3\">\n            <BookOpen className=\"w-6 h-6 text-blue-400\" />\n            <div>\n              <h2 className=\"text-2xl font-bold text-white\">Manual Book Search</h2>\n              <p className=\"text-slate-400 text-sm\">Search Open Library database for books</p>\n            </div>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"p-2 hover:bg-slate-700 rounded-lg transition-colors duration-200\"\n          >\n            <X className=\"w-6 h-6 text-slate-400\" />\n          </button>\n        </div>\n\n        {/* Search Type Toggle */}\n        <div className=\"px-6 pt-4\">\n          <div className=\"flex space-x-2 mb-4\">\n            <button\n              onClick={() => setSearchType('basic')}\n              className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 ${\n                searchType === 'basic'\n                  ? 'bg-blue-600 text-white'\n                  : 'bg-slate-700 text-slate-300 hover:bg-slate-600'\n              }`}\n            >\n              Basic Search\n            </button>\n            <button\n              onClick={() => setSearchType('advanced')}\n              className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors duration-200 ${\n                searchType === 'advanced'\n                  ? 'bg-blue-600 text-white'\n                  : 'bg-slate-700 text-slate-300 hover:bg-slate-600'\n              }`}\n            >\n              Advanced Search\n            </button>\n          </div>\n        </div>\n\n        {/* Search Interface */}\n        <div className=\"px-6 pb-4\">\n          {searchType === 'basic' ? (\n            /* Basic Search */\n            <div className=\"flex space-x-3\">\n              <input\n                type=\"text\"\n                placeholder=\"Search for books by title, author, or keywords...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                onKeyPress={(e) => e.key === 'Enter' && handleSearch()}\n                className=\"flex-1 input-field\"\n              />\n              <button\n                onClick={handleSearch}\n                disabled={isSearching || !searchQuery.trim()}\n                className=\"btn-primary px-6 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                {isSearching ? (\n                  <Loader2 className=\"w-4 h-4 animate-spin\" />\n                ) : (\n                  <Search className=\"w-4 h-4\" />\n                )}\n              </button>\n            </div>\n          ) : (\n            /* Advanced Search */\n            <div className=\"space-y-4\">\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\n                <input\n                  type=\"text\"\n                  placeholder=\"Title...\"\n                  value={filters.title}\n                  onChange={(e) => setFilters({ ...filters, title: e.target.value })}\n                  className=\"input-field\"\n                />\n                <input\n                  type=\"text\"\n                  placeholder=\"Author...\"\n                  value={filters.author}\n                  onChange={(e) => setFilters({ ...filters, author: e.target.value })}\n                  className=\"input-field\"\n                />\n                <input\n                  type=\"text\"\n                  placeholder=\"Publisher...\"\n                  value={filters.publisher}\n                  onChange={(e) => setFilters({ ...filters, publisher: e.target.value })}\n                  className=\"input-field\"\n                />\n              </div>\n              <div className=\"flex space-x-3\">\n                <button\n                  onClick={handleSearch}\n                  disabled={isSearching || (!filters.title && !filters.author && !filters.publisher)}\n                  className=\"btn-primary px-6 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {isSearching ? (\n                    <Loader2 className=\"w-4 h-4 animate-spin\" />\n                  ) : (\n                    <Search className=\"w-4 h-4\" />\n                  )}\n                  <span className=\"ml-2\">Search</span>\n                </button>\n                <button\n                  onClick={clearSearch}\n                  className=\"btn-secondary px-4\"\n                >\n                  Clear\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Search Results */}\n        <div className=\"flex-1 overflow-y-auto custom-scrollbar px-6 pb-6\">\n          {isSearching ? (\n            <div className=\"flex items-center justify-center py-12\">\n              <Loader2 className=\"w-8 h-8 animate-spin text-blue-400\" />\n              <span className=\"ml-3 text-slate-400\">Searching...</span>\n            </div>\n          ) : searchResults.length > 0 ? (\n            <div>\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-semibold text-white\">\n                  Search Results ({searchResults.length})\n                </h3>\n                <button\n                  onClick={clearSearch}\n                  className=\"text-sm text-slate-400 hover:text-white transition-colors\"\n                >\n                  Clear Results\n                </button>\n              </div>\n              \n              <div className=\"space-y-3\">\n                {searchResults.map((book, index) => (\n                  <motion.div\n                    key={book.key}\n                    initial={{ opacity: 0, y: 10 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    transition={{ delay: index * 0.05 }}\n                    className=\"bg-slate-700/50 rounded-lg p-4 border border-slate-600 hover:border-slate-500 transition-colors duration-200\"\n                  >\n                    <div className=\"flex items-start justify-between mb-3\">\n                      <div className=\"flex-1 min-w-0\">\n                        <h4 className=\"font-medium text-white text-sm mb-1 truncate\">\n                          {book.title}\n                        </h4>\n                        <p className=\"text-xs text-slate-300\">\n                          by {Array.isArray(book.author_name) ? book.author_name.join(', ') : book.author_name || 'Unknown Author'}\n                        </p>\n                      </div>\n                      <Bookmark className=\"w-4 h-4 text-slate-400\" />\n                    </div>\n\n                    <div className=\"flex items-center justify-between text-xs text-slate-400 mb-3\">\n                      <div className=\"flex items-center space-x-3\">\n                        {book.first_publish_year && (\n                          <span>{book.first_publish_year}</span>\n                        )}\n                        {book.publisher && (\n                          <span className=\"truncate max-w-[150px]\" title={book.publisher}>\n                            {book.publisher}\n                          </span>\n                        )}\n                      </div>\n                      {book.editions_count && (\n                        <span className=\"text-xs bg-slate-600 px-2 py-1 rounded\">\n                          {book.editions_count} edition{book.editions_count !== 1 ? 's' : ''}\n                        </span>\n                      )}\n                    </div>\n\n                    <button\n                      onClick={() => handleBookSelect(book)}\n                      className=\"w-full btn-primary text-sm py-2 flex items-center justify-center space-x-2\"\n                    >\n                      <BookOpen className=\"w-4 h-4\" />\n                      <span>Select This Book</span>\n                    </button>\n                  </motion.div>\n                ))}\n              </div>\n            </div>\n          ) : searchQuery || Object.values(filters).some(v => v) ? (\n            <div className=\"text-center py-12 text-slate-400\">\n              <BookOpen className=\"w-16 h-16 mx-auto mb-4 text-slate-500\" />\n              <p className=\"text-lg\">No books found</p>\n              <p className=\"text-sm text-slate-500 mt-2\">Try adjusting your search terms</p>\n            </div>\n          ) : (\n            <div className=\"text-center py-12 text-slate-400\">\n              <Search className=\"w-16 h-16 mx-auto mb-4 text-slate-500\" />\n              <p className=\"text-lg\">Ready to search</p>\n              <p className=\"text-sm text-slate-500 mt-2\">Enter search terms above to find books</p>\n            </div>\n          )}\n        </div>\n      </motion.div>\n    </motion.div>\n  );\n};\n\nexport default ManualBookSearch;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}