# Spinecat Environment Configuration
# Copy this file to .env and fill in your values

# API Configuration
API_HOST=127.0.0.1
API_PORT=8002
FRONTEND_URL=http://localhost:3000

# YOLO Model Configuration
YOLO_MODEL_PATH=models/yolo-spine-obb-final/weights/best.pt

# Google Vision API (Required)
TESSERACT_ENABLES=true

# Confidence Thresholds
CONFIDENCE_THRESHOLD=0.5

# ========================================
# ADVANCED MATCHING SYSTEM CONFIGURATION
# ========================================

# Enable/Disable Matching Systems
USE_ADVANCED_MATCHING=true      # Enable new character n-gram matching (recommended)
USE_LEGACY_MATCHING=false       # Disable old fuzzy matching

# Advanced Matching Settings
ADVANCED_MATCHING_CONFIDENCE_THRESHOLD=0.65  # Minimum score for confident matches (0.0-1.0)
ADVANCED_MATCHING_TOP_K=10                   # Number of top results to return



# ========================================
# File Upload Configuration
# ========================================
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_EXTENSIONS=.jpg,.jpeg,.png

# ========================================
# Logging Configuration
# ========================================
LOG_LEVEL=INFO

# ========================================
# Advanced Matching Explained
# ========================================
# 
# The new advanced matching system uses:
# - Character n-gram TF-IDF (3-5 characters)
# - Soft token matching with fuzzy logic
# - Author-focused scoring
# - OCR confusion handling (I↔L↔1, 0↔O, 5↔S, etc.)
# - Multi-feature weighted scoring
#
# Benefits:
# - Better handling of OCR errors
# - Word order insensitive
# - More accurate author matching
# - Realistic match scores (not hardcoded)
#
# To switch back to legacy matching:
# USE_ADVANCED_MATCHING=false
# USE_LEGACY_MATCHING=true
