{"ast":null,"code":"import _objectSpread from\"/Users/cooperstevens/Documents/CursorWorkspace copy/Spinecat/web_interface/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{motion,AnimatePresence}from'framer-motion';import{BookOpen,Trash2,Search,AlertTriangle,Plus,RefreshCw,CheckCircle,Edit3}from'lucide-react';import toast from'react-hot-toast';import AlternativesModal from'./AlternativesModal';import ManualBookSearch from'./ManualBookSearch';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BookListManager=_ref=>{let{bookMatches,ocrFailures,selectedSpineId,onSpineSelected,onBookListUpdated,onStartEditing,onStopEditing}=_ref;const[showSearchModal,setShowSearchModal]=useState(false);const[showAlternativesModal,setShowAlternativesModal]=useState(false);const[selectedBookForAlternatives,setSelectedBookForAlternatives]=useState(null);const[selectedBookForSearch,setSelectedBookForSearch]=useState(null);const[modifiedBooks,setModifiedBooks]=useState(new Set());// Debug logging\nconsole.log('ðŸ” BookListManager received data:',{bookMatches,ocrFailures});if(bookMatches.length>0){console.log('ðŸ” First book data:',bookMatches[0]);console.log('ðŸ” First book author_name:',bookMatches[0].author_name);console.log('ðŸ” First book title:',bookMatches[0].title);console.log('ðŸ” First book ocr_text:',bookMatches[0].ocr_text);}// Handle book selection\nconst handleBookClick=book=>{onSpineSelected(book.spine_region_id);// Scroll to the book in the list\nconst bookElement=document.querySelector(\"[data-book-id=\\\"\".concat(book.id,\"\\\"]\"));console.log('ðŸ” Looking for book element:',book.id,bookElement);if(bookElement){console.log('âœ… Found book element, scrolling to it');bookElement.scrollIntoView({behavior:'smooth',block:'center',inline:'nearest'});// Add highlight effect\nbookElement.classList.add('ring-2','ring-blue-400','ring-opacity-75');setTimeout(()=>{bookElement.classList.remove('ring-2','ring-blue-400','ring-opacity-75');},2000);}else{console.warn('âŒ Book element not found for ID:',book.id);}};// Handle book deletion\nconst handleDeleteBook=bookId=>{const updatedMatches=bookMatches.filter(book=>book.id!==bookId);onBookListUpdated(updatedMatches);};// Handle OCR failure deletion\nconst handleDeleteOCRFailure=failureId=>{// This would update the OCR failures list\nconsole.log('Delete OCR failure:',failureId);};// Handle opening alternatives modal\nconst handleShowAlternatives=book=>{setSelectedBookForAlternatives(book);setShowAlternativesModal(true);};// Handle book switching\nconst handleBookSwitched=newBook=>{const updatedMatches=bookMatches.map(book=>book.id===newBook.id?newBook:book);onBookListUpdated(updatedMatches);// Mark this book as modified\nsetModifiedBooks(prev=>new Set(prev).add(newBook.id));toast.success('Book switched successfully!');};// Get match type color\nconst getMatchTypeColor=matchType=>{switch(matchType){case'exact':return'bg-green-900/50 text-green-300 border-green-700';case'strong':return'bg-blue-900/50 text-blue-300 border-blue-700';case'moderate':return'bg-yellow-900/50 text-yellow-300 border-yellow-700';case'weak':case'poor':return'bg-red-900/50 text-red-300 border-red-700';default:return'bg-slate-700 text-slate-300 border-slate-600';}};// Get match type label\nconst getMatchTypeLabel=matchType=>{switch(matchType){case'exact':return'Perfect Match';case'strong':return'Strong Match';case'moderate':return'Moderate Match';case'weak':return'Weak Match';case'poor':return'Poor Match';default:return'Unknown';}};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-white\",children:\"Identified Books\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-slate-300 bg-slate-700 px-2 py-1 rounded-full\",children:bookMatches.length})]}),bookMatches.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-6 text-slate-400\",children:[/*#__PURE__*/_jsx(BookOpen,{className:\"w-10 h-10 mx-auto mb-2 text-slate-500\"}),/*#__PURE__*/_jsx(\"p\",{children:\"No books identified yet\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 max-h-96 overflow-y-auto\",children:/*#__PURE__*/_jsx(AnimatePresence,{children:bookMatches.map((book,index)=>/*#__PURE__*/_jsxs(motion.div,{\"data-book-id\":book.id,initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:0.2,delay:index*0.05},className:\"\\n                    p-3 border rounded-lg cursor-pointer transition-all duration-200\\n                    \".concat(selectedSpineId===book.spine_region_id?'border-blue-400 bg-blue-900/30 ring-2 ring-blue-400/50':'border-slate-500 hover:border-slate-400 hover:bg-slate-700/50',\"\\n                  \"),onClick:()=>handleBookClick(book),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-white truncate text-sm\",children:book.title}),modifiedBooks.has(book.id)&&/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs bg-green-900/50 text-green-300 border border-green-700\",children:[/*#__PURE__*/_jsx(CheckCircle,{className:\"w-3 h-3 mr-1\"}),\"Modified\"]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-slate-300\",children:[\"by \",Array.isArray(book.author_name)?book.author_name.join(', '):book.author_name||'Unknown Author']})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs px-2 py-1 rounded-full ml-2 border \".concat(getMatchTypeColor(book.match_type)),children:getMatchTypeLabel(book.match_type)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-xs text-slate-400 mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[book.first_publish_year&&/*#__PURE__*/_jsx(\"span\",{children:book.first_publish_year}),book.publisher&&/*#__PURE__*/_jsx(\"span\",{className:\"truncate max-w-[100px]\",title:book.publisher,children:book.publisher})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs bg-slate-700 px-2 py-1 rounded text-slate-300\",children:[Math.round(book.match_score*100),\"%\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-slate-400 bg-slate-800/50 p-2 rounded border border-slate-700 mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-slate-300\",children:\"OCR Text:\"}),\" \",book.ocr_text]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end space-x-2 pt-2 border-t border-slate-600\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:e=>{e.stopPropagation();handleShowAlternatives(book);},className:\"btn-secondary text-xs py-1 px-2 flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-3 h-3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Possible Alternatives\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:e=>{e.stopPropagation();setSelectedBookForSearch(book);setShowSearchModal(true);},className:\"btn-secondary text-xs py-1 px-2 flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(Search,{className:\"w-3 h-3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Search\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:e=>{e.stopPropagation();console.log('ðŸ”˜ Edit OBB button clicked for book:',book.id,'title:',book.title);console.log('ðŸ”˜ onStartEditing function exists:',!!onStartEditing);if(onStartEditing){console.log('ðŸ”˜ Calling onStartEditing with book ID:',book.id);onStartEditing(book.id);}else{console.log('âŒ onStartEditing is undefined!');}},className:\"btn-secondary text-xs py-1 px-2 flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(Edit3,{className:\"w-3 h-3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Edit OBB\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:e=>{e.stopPropagation();handleDeleteBook(book.id);},className:\"btn-danger text-xs py-1 px-2 flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(Trash2,{className:\"w-3 h-3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Delete\"})]})]})]},book.id))})})]}),ocrFailures.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-white\",children:\"OCR Failures\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-yellow-300 bg-yellow-900/50 text-yellow-300 px-2 py-1 rounded-full border border-yellow-700\",children:ocrFailures.length})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2 max-h-48 overflow-y-auto\",children:/*#__PURE__*/_jsx(AnimatePresence,{children:ocrFailures.map((failure,index)=>/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:0.2,delay:index*0.05},className:\"p-3 border border-yellow-700 rounded-lg bg-yellow-900/20\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-4 h-4 text-yellow-400\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-yellow-300 text-sm\",children:[failure.error_type==='no_text_detected'&&'No Text Detected',failure.error_type==='low_confidence'&&'Low Confidence',failure.error_type==='processing_error'&&'Processing Error']})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteOCRFailure(failure.id),className:\"btn-danger text-xs py-1 px-2\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-3 h-3\"})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-yellow-200 mb-2\",children:failure.message}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setSelectedBookForSearch(null);// No specific book to replace\nsetShowSearchModal(true);},className:\"btn-primary text-xs py-1 px-2 flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(Search,{className:\"w-3 h-3\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Search & Add\"})]})})]},failure.id))})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-white mb-3\",children:\"Quick Actions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setSelectedBookForSearch(null);// No specific book to replace\nsetShowSearchModal(true);},className:\"w-full btn-primary flex items-center justify-center space-x-2\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Add Manual Entry\"})]})})]}),/*#__PURE__*/_jsx(ManualBookSearch,{isOpen:showSearchModal,onClose:()=>{setShowSearchModal(false);setSelectedBookForSearch(null);// Clear selection when closing\n},onBookSelected:book=>{console.log('Selected book from manual search:',book);if(selectedBookForSearch){// Replace the existing book\nconst updatedMatches=bookMatches.map(existingBook=>existingBook.id===selectedBookForSearch.id?_objectSpread(_objectSpread({},existingBook),{},{title:book.title,author_name:Array.isArray(book.author_name)?book.author_name:[book.author_name||'Unknown Author'],first_publish_year:book.first_publish_year,publisher:book.publisher||'',open_library_id:book.key,match_score:0.9,// High score for manually selected book\nmatch_type:'exact'}):existingBook);onBookListUpdated(updatedMatches);toast.success(\"Replaced \\\"\".concat(selectedBookForSearch.title,\"\\\" with \\\"\").concat(book.title,\"\\\"\"));}else{// Add as a new book (for OCR failures or manual additions)\nconst newBook={id:\"manual_\".concat(Date.now()),// Generate unique ID\ntitle:book.title,author_name:Array.isArray(book.author_name)?book.author_name:[book.author_name||'Unknown Author'],first_publish_year:book.first_publish_year,publisher:book.publisher||'',match_score:0.9,match_type:'exact',confidence:0.9,ocr_text:'Manually added',spine_region_id:\"manual_\".concat(Date.now())// Generate unique spine ID\n};const updatedMatches=[...bookMatches,newBook];onBookListUpdated(updatedMatches);toast.success(\"Added \\\"\".concat(book.title,\"\\\" to the list\"));}setShowSearchModal(false);setSelectedBookForSearch(null);}}),showAlternativesModal&&selectedBookForAlternatives&&/*#__PURE__*/_jsx(AlternativesModal,{isOpen:showAlternativesModal,onClose:()=>setShowAlternativesModal(false),currentBook:selectedBookForAlternatives,onBookSwitched:handleBookSwitched})]});};export default BookListManager;","map":{"version":3,"names":["React","useState","motion","AnimatePresence","BookOpen","Trash2","Search","AlertTriangle","Plus","RefreshCw","CheckCircle","Edit3","toast","AlternativesModal","ManualBookSearch","jsx","_jsx","jsxs","_jsxs","BookListManager","_ref","bookMatches","ocrFailures","selectedSpineId","onSpineSelected","onBookListUpdated","onStartEditing","onStopEditing","showSearchModal","setShowSearchModal","showAlternativesModal","setShowAlternativesModal","selectedBookForAlternatives","setSelectedBookForAlternatives","selectedBookForSearch","setSelectedBookForSearch","modifiedBooks","setModifiedBooks","Set","console","log","length","author_name","title","ocr_text","handleBookClick","book","spine_region_id","bookElement","document","querySelector","concat","id","scrollIntoView","behavior","block","inline","classList","add","setTimeout","remove","warn","handleDeleteBook","bookId","updatedMatches","filter","handleDeleteOCRFailure","failureId","handleShowAlternatives","handleBookSwitched","newBook","map","prev","success","getMatchTypeColor","matchType","getMatchTypeLabel","className","children","index","div","initial","opacity","y","animate","exit","transition","duration","delay","onClick","has","Array","isArray","join","match_type","first_publish_year","publisher","Math","round","match_score","e","stopPropagation","failure","error_type","message","isOpen","onClose","onBookSelected","existingBook","_objectSpread","open_library_id","key","Date","now","confidence","currentBook","onBookSwitched"],"sources":["/Users/cooperstevens/Documents/CursorWorkspace copy/Spinecat/web_interface/src/components/BookListManager.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { BookOpen, Trash2, Search, AlertTriangle, Plus, RefreshCw, CheckCircle, Edit3 } from 'lucide-react';\nimport toast from 'react-hot-toast';\n\nimport { BookMatch, OCRFailure } from '../types';\nimport AlternativesModal from './AlternativesModal';\nimport ManualBookSearch from './ManualBookSearch';\n\ninterface BookListManagerProps {\n  bookMatches: BookMatch[];\n  ocrFailures: OCRFailure[];\n  selectedSpineId: string | null;\n  onSpineSelected: (spineId: string) => void;\n  onBookListUpdated: (updatedMatches: BookMatch[]) => void;\n  onStartEditing?: (bookId: string) => void;\n  onStopEditing?: () => void;\n}\n\nconst BookListManager: React.FC<BookListManagerProps> = ({\n  bookMatches,\n  ocrFailures,\n  selectedSpineId,\n  onSpineSelected,\n  onBookListUpdated,\n  onStartEditing,\n  onStopEditing\n}) => {\n  const [showSearchModal, setShowSearchModal] = useState(false);\n  const [showAlternativesModal, setShowAlternativesModal] = useState(false);\n  const [selectedBookForAlternatives, setSelectedBookForAlternatives] = useState<BookMatch | null>(null);\n  const [selectedBookForSearch, setSelectedBookForSearch] = useState<BookMatch | null>(null);\n  const [modifiedBooks, setModifiedBooks] = useState<Set<string>>(new Set());\n\n  // Debug logging\n  console.log('ðŸ” BookListManager received data:', { bookMatches, ocrFailures });\n  if (bookMatches.length > 0) {\n    console.log('ðŸ” First book data:', bookMatches[0]);\n    console.log('ðŸ” First book author_name:', bookMatches[0].author_name);\n    console.log('ðŸ” First book title:', bookMatches[0].title);\n    console.log('ðŸ” First book ocr_text:', bookMatches[0].ocr_text);\n  }\n\n  // Handle book selection\n  const handleBookClick = (book: BookMatch) => {\n    onSpineSelected(book.spine_region_id);\n    \n    // Scroll to the book in the list\n    const bookElement = document.querySelector(`[data-book-id=\"${book.id}\"]`);\n    console.log('ðŸ” Looking for book element:', book.id, bookElement);\n    if (bookElement) {\n      console.log('âœ… Found book element, scrolling to it');\n      bookElement.scrollIntoView({ \n        behavior: 'smooth', \n        block: 'center',\n        inline: 'nearest'\n      });\n      \n      // Add highlight effect\n      bookElement.classList.add('ring-2', 'ring-blue-400', 'ring-opacity-75');\n      setTimeout(() => {\n        bookElement.classList.remove('ring-2', 'ring-blue-400', 'ring-opacity-75');\n      }, 2000);\n    } else {\n      console.warn('âŒ Book element not found for ID:', book.id);\n    }\n  };\n\n  // Handle book deletion\n  const handleDeleteBook = (bookId: string) => {\n    const updatedMatches = bookMatches.filter(book => book.id !== bookId);\n    onBookListUpdated(updatedMatches);\n  };\n\n  // Handle OCR failure deletion\n  const handleDeleteOCRFailure = (failureId: string) => {\n    // This would update the OCR failures list\n    console.log('Delete OCR failure:', failureId);\n  };\n\n  // Handle opening alternatives modal\n  const handleShowAlternatives = (book: BookMatch) => {\n    setSelectedBookForAlternatives(book);\n    setShowAlternativesModal(true);\n  };\n\n  // Handle book switching\n  const handleBookSwitched = (newBook: BookMatch) => {\n    const updatedMatches = bookMatches.map(book => \n      book.id === newBook.id ? newBook : book\n    );\n    onBookListUpdated(updatedMatches);\n    \n    // Mark this book as modified\n    setModifiedBooks(prev => new Set(prev).add(newBook.id));\n    \n    toast.success('Book switched successfully!');\n  };\n\n  // Get match type color\n  const getMatchTypeColor = (matchType: string) => {\n    switch (matchType) {\n      case 'exact':\n        return 'bg-green-900/50 text-green-300 border-green-700';\n      case 'strong':\n        return 'bg-blue-900/50 text-blue-300 border-blue-700';\n      case 'moderate':\n        return 'bg-yellow-900/50 text-yellow-300 border-yellow-700';\n      case 'weak':\n      case 'poor':\n        return 'bg-red-900/50 text-red-300 border-red-700';\n      default:\n        return 'bg-slate-700 text-slate-300 border-slate-600';\n    }\n  };\n\n  // Get match type label\n  const getMatchTypeLabel = (matchType: string) => {\n    switch (matchType) {\n      case 'exact':\n        return 'Perfect Match';\n      case 'strong':\n        return 'Strong Match';\n      case 'moderate':\n        return 'Moderate Match';\n      case 'weak':\n        return 'Weak Match';\n      case 'poor':\n        return 'Poor Match';\n      default:\n        return 'Unknown';\n    }\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Book Matches */}\n      <div className=\"card\">\n        <div className=\"flex items-center justify-between mb-3\">\n          <h3 className=\"text-lg font-semibold text-white\">\n            Identified Books\n          </h3>\n          <span className=\"text-sm text-slate-300 bg-slate-700 px-2 py-1 rounded-full\">\n            {bookMatches.length}\n          </span>\n        </div>\n\n        {bookMatches.length === 0 ? (\n          <div className=\"text-center py-6 text-slate-400\">\n            <BookOpen className=\"w-10 h-10 mx-auto mb-2 text-slate-500\" />\n            <p>No books identified yet</p>\n          </div>\n        ) : (\n          <div className=\"space-y-2 max-h-96 overflow-y-auto\">\n            <AnimatePresence>\n              {bookMatches.map((book, index) => (\n                <motion.div\n                  key={book.id}\n                  data-book-id={book.id}\n                  initial={{ opacity: 0, y: 10 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  exit={{ opacity: 0, y: -10 }}\n                  transition={{ duration: 0.2, delay: index * 0.05 }}\n                  className={`\n                    p-3 border rounded-lg cursor-pointer transition-all duration-200\n                    ${selectedSpineId === book.spine_region_id\n                      ? 'border-blue-400 bg-blue-900/30 ring-2 ring-blue-400/50'\n                      : 'border-slate-500 hover:border-slate-400 hover:bg-slate-700/50'\n                    }\n                  `}\n                  onClick={() => handleBookClick(book)}\n                >\n                  {/* Book Header - More Compact */}\n                  <div className=\"flex items-start justify-between mb-2\">\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex items-center space-x-2\">\n                        <h4 className=\"font-medium text-white truncate text-sm\">\n                          {book.title}\n                        </h4>\n                        {modifiedBooks.has(book.id) && (\n                          <span className=\"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs bg-green-900/50 text-green-300 border border-green-700\">\n                            <CheckCircle className=\"w-3 h-3 mr-1\" />\n                            Modified\n                          </span>\n                        )}\n                      </div>\n                      <p className=\"text-xs text-slate-300\">\n                        by {Array.isArray(book.author_name) ? book.author_name.join(', ') : book.author_name || 'Unknown Author'}\n                      </p>\n                    </div>\n                    \n                    {/* Match Type Badge */}\n                    <span className={`text-xs px-2 py-1 rounded-full ml-2 border ${getMatchTypeColor(book.match_type)}`}>\n                      {getMatchTypeLabel(book.match_type)}\n                    </span>\n                  </div>\n\n                  {/* Book Details - More Compact */}\n                  <div className=\"flex items-center justify-between text-xs text-slate-400 mb-2\">\n                    <div className=\"flex items-center space-x-3\">\n                      {book.first_publish_year && (\n                        <span>{book.first_publish_year}</span>\n                      )}\n                      {book.publisher && (\n                        <span className=\"truncate max-w-[100px]\" title={book.publisher}>\n                          {book.publisher}\n                        </span>\n                      )}\n                    </div>\n                    \n                    <div className=\"flex items-center space-x-2\">\n                      <span className=\"text-xs bg-slate-700 px-2 py-1 rounded text-slate-300\">\n                        {Math.round(book.match_score * 100)}%\n                      </span>\n                    </div>\n                  </div>\n\n                  {/* OCR Text - Now Visible */}\n                  <div className=\"text-xs text-slate-400 bg-slate-800/50 p-2 rounded border border-slate-700 mb-2\">\n                    <span className=\"font-medium text-slate-300\">OCR Text:</span> {book.ocr_text}\n                  </div>\n\n                  {/* Action Buttons - More Compact */}\n                  <div className=\"flex items-center justify-end space-x-2 pt-2 border-t border-slate-600\">\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleShowAlternatives(book);\n                      }}\n                      className=\"btn-secondary text-xs py-1 px-2 flex items-center space-x-1\"\n                    >\n                      <RefreshCw className=\"w-3 h-3\" />\n                      <span>Possible Alternatives</span>\n                    </button>\n                    \n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        setSelectedBookForSearch(book);\n                        setShowSearchModal(true);\n                      }}\n                      className=\"btn-secondary text-xs py-1 px-2 flex items-center space-x-1\"\n                    >\n                      <Search className=\"w-3 h-3\" />\n                      <span>Search</span>\n                    </button>\n                    \n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        console.log('ðŸ”˜ Edit OBB button clicked for book:', book.id, 'title:', book.title);\n                        console.log('ðŸ”˜ onStartEditing function exists:', !!onStartEditing);\n                        if (onStartEditing) {\n                          console.log('ðŸ”˜ Calling onStartEditing with book ID:', book.id);\n                          onStartEditing(book.id);\n                        } else {\n                          console.log('âŒ onStartEditing is undefined!');\n                        }\n                      }}\n                      className=\"btn-secondary text-xs py-1 px-2 flex items-center space-x-1\"\n                    >\n                      <Edit3 className=\"w-3 h-3\" />\n                      <span>Edit OBB</span>\n                    </button>\n                    \n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleDeleteBook(book.id);\n                      }}\n                      className=\"btn-danger text-xs py-1 px-2 flex items-center space-x-1\"\n                    >\n                      <Trash2 className=\"w-3 h-3\" />\n                      <span>Delete</span>\n                    </button>\n                  </div>\n                </motion.div>\n              ))}\n            </AnimatePresence>\n          </div>\n        )}\n      </div>\n\n      {/* OCR Failures */}\n      {ocrFailures.length > 0 && (\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <h3 className=\"text-lg font-semibold text-white\">\n              OCR Failures\n            </h3>\n            <span className=\"text-sm text-yellow-300 bg-yellow-900/50 text-yellow-300 px-2 py-1 rounded-full border border-yellow-700\">\n              {ocrFailures.length}\n            </span>\n          </div>\n\n          <div className=\"space-y-2 max-h-48 overflow-y-auto\">\n            <AnimatePresence>\n              {ocrFailures.map((failure, index) => (\n                <motion.div\n                  key={failure.id}\n                  initial={{ opacity: 0, y: 10 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  exit={{ opacity: 0, y: -10 }}\n                  transition={{ duration: 0.2, delay: index * 0.05 }}\n                  className=\"p-3 border border-yellow-700 rounded-lg bg-yellow-900/20\"\n                >\n                  <div className=\"flex items-start justify-between mb-2\">\n                    <div className=\"flex items-center space-x-2\">\n                      <AlertTriangle className=\"w-4 h-4 text-yellow-400\" />\n                      <span className=\"font-medium text-yellow-300 text-sm\">\n                        {failure.error_type === 'no_text_detected' && 'No Text Detected'}\n                        {failure.error_type === 'low_confidence' && 'Low Confidence'}\n                        {failure.error_type === 'processing_error' && 'Processing Error'}\n                      </span>\n                    </div>\n                    \n                    <button\n                      onClick={() => handleDeleteOCRFailure(failure.id)}\n                      className=\"btn-danger text-xs py-1 px-2\"\n                    >\n                      <Trash2 className=\"w-3 h-3\" />\n                    </button>\n                  </div>\n\n                  <p className=\"text-sm text-yellow-200 mb-2\">\n                    {failure.message}\n                  </p>\n\n                  <div className=\"flex items-center justify-between\">\n                    <button\n                      onClick={() => {\n                        setSelectedBookForSearch(null); // No specific book to replace\n                        setShowSearchModal(true);\n                      }}\n                      className=\"btn-primary text-xs py-1 px-2 flex items-center space-x-1\"\n                    >\n                      <Search className=\"w-3 h-3\" />\n                      <span>Search & Add</span>\n                    </button>\n                  </div>\n                </motion.div>\n              ))}\n            </AnimatePresence>\n          </div>\n        </div>\n      )}\n\n      {/* Quick Actions */}\n      <div className=\"card\">\n        <h3 className=\"text-lg font-semibold text-white mb-3\">\n          Quick Actions\n        </h3>\n        \n        <div className=\"space-y-2\">\n          <button\n            onClick={() => {\n              setSelectedBookForSearch(null); // No specific book to replace\n              setShowSearchModal(true);\n            }}\n            className=\"w-full btn-primary flex items-center justify-center space-x-2\"\n          >\n            <Plus className=\"w-4 h-4\" />\n            <span>Add Manual Entry</span>\n          </button>\n        </div>\n      </div>\n\n      {/* Manual Book Search Modal */}\n      <ManualBookSearch\n        isOpen={showSearchModal}\n        onClose={() => {\n          setShowSearchModal(false);\n          setSelectedBookForSearch(null); // Clear selection when closing\n        }}\n        onBookSelected={(book) => {\n          console.log('Selected book from manual search:', book);\n          \n          if (selectedBookForSearch) {\n            // Replace the existing book\n            const updatedMatches = bookMatches.map(existingBook => \n              existingBook.id === selectedBookForSearch.id \n                ? {\n                    ...existingBook,\n                    title: book.title,\n                    author_name: Array.isArray(book.author_name) ? book.author_name : [book.author_name || 'Unknown Author'],\n                    first_publish_year: book.first_publish_year,\n                    publisher: book.publisher || '',\n                    open_library_id: book.key,\n                    match_score: 0.9, // High score for manually selected book\n                    match_type: 'exact' as const\n                  }\n                : existingBook\n            );\n            \n            onBookListUpdated(updatedMatches);\n            toast.success(`Replaced \"${selectedBookForSearch.title}\" with \"${book.title}\"`);\n          } else {\n            // Add as a new book (for OCR failures or manual additions)\n            const newBook: BookMatch = {\n              id: `manual_${Date.now()}`, // Generate unique ID\n              title: book.title,\n              author_name: Array.isArray(book.author_name) ? book.author_name : [book.author_name || 'Unknown Author'],\n              first_publish_year: book.first_publish_year,\n              publisher: book.publisher || '',\n              match_score: 0.9,\n              match_type: 'exact',\n              confidence: 0.9,\n              ocr_text: 'Manually added',\n              spine_region_id: `manual_${Date.now()}` // Generate unique spine ID\n            };\n            \n            const updatedMatches = [...bookMatches, newBook];\n            onBookListUpdated(updatedMatches);\n            toast.success(`Added \"${book.title}\" to the list`);\n          }\n          \n          setShowSearchModal(false);\n          setSelectedBookForSearch(null);\n        }}\n      />\n\n      {/* Alternatives Modal */}\n      {showAlternativesModal && selectedBookForAlternatives && (\n        <AlternativesModal\n          isOpen={showAlternativesModal}\n          onClose={() => setShowAlternativesModal(false)}\n          currentBook={selectedBookForAlternatives}\n          onBookSwitched={handleBookSwitched}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default BookListManager;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}